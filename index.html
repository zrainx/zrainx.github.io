<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Zrainx&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="Zrainx's blog">
<meta property="og:url" content="http://zrainx.github.io/index.html">
<meta property="og:site_name" content="Zrainx's blog">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Zrainx's blog">
<meta name="twitter:description">
  
    <link rel="alternative" href="/atom.xml" title="Zrainx&#39;s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Zrainx&#39;s blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://zrainx.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-《Instant-OpenCV-for-iOS》-学习笔记-5" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/10/18/《Instant-OpenCV-for-iOS》-学习笔记-5/" class="article-date">
  <time datetime="2015-10-18T12:06:24.000Z" itemprop="datePublished">2015-10-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/opencv/">opencv</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/18/《Instant-OpenCV-for-iOS》-学习笔记-5/">《Instant-OpenCV-for-iOS》-学习笔记-5</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="打印明信片">打印明信片</h1><p>本文中我们讨论如何在Objective-C代码中使用C++类。我们创建一个简单的应用程序，使用脸部照片打印出明信片。在本文中我们还学习如何测量程序的运行时间，这样可以在日后优化它。</p>
<h2 id="准备">准备</h2><p>从例程工程目录中的3张图片拖到自己的工程supporting Files中</p>
<ul>
<li>text.png<img src="http://zrainx.github.io/img/text.png" alt="text.png"></li>
<li>texture.jpg<img src="http://zrainx.github.io/img/texture.jpg" alt="texture.jpg"></li>
<li>lena_std.tif<img src="http://zrainx.github.io/img/lena_std.tif" alt="lena_std.tif"><h2 id="步骤">步骤</h2></li>
</ul>
<ol>
<li>使用<a href="http://zrainx.github.io/2015/10/03/%E3%80%8AInstant-OpenCV-for-iOS%E3%80%8B-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-3/">《Instant-OpenCV-for-iOS》-学习笔记-3</a>的工程继续开发。</li>
<li>创建 <code>PostcardPrinter.cpp</code>和<code>PostcardPrinter.hpp</code></li>
<li><p>在<code>PostcardPrinter.hpp</code>中加入如下代码：</p>
 <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor"># <span class="keyword">ifndef</span> PostcardPrinter_hpp</span></span><br><span class="line"><span class="preprocessor"># <span class="keyword">define</span> PostcardPrinter_hpp</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># <span class="keyword">include</span> <span class="string">"opencv2/core/core.hpp"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> PostcardPrinter</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">struct</span> Images</span><br><span class="line">&#123;</span><br><span class="line">cv::Mat face;</span><br><span class="line">cv::Mat texture;</span><br><span class="line">cv::Mat text;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">PostcardPrinter(Images images);</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(cv::Mat&amp; postcard)</span> <span class="keyword">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">crumple</span><span class="params">(cv::Mat&amp; image, <span class="keyword">const</span> cv::Mat&amp; texture,</span><br><span class="line"> <span class="keyword">const</span> cv::Mat&amp; mask = cv::Mat()</span>) <span class="keyword">const</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">alphaBlend</span><span class="params">(<span class="keyword">const</span> cv::Mat&amp; src, cv::Mat&amp; dst,</span><br><span class="line"><span class="keyword">const</span> cv::Mat&amp; alpha)</span> <span class="keyword">const</span></span>;</span><br><span class="line"></span><br><span class="line">Images images_;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># <span class="keyword">endif</span> <span class="comment">/* PostcardPrinter_hpp */</span></span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>在<code>PostcardPrinter.cpp</code>中添加如下代码实现在PostcardPrinter类中声明的<code>print</code>、<code>crumple</code>、<code>alphaBlend</code>等方法：</p>
 <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">"PostcardPrinter.hpp"</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">"opencv2/imgproc/imgproc.hpp"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cv;</span><br><span class="line"></span><br><span class="line">PostcardPrinter::PostcardPrinter(Images images)</span><br><span class="line">&#123;</span><br><span class="line">    images_ = images;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> PostcardPrinter::print(Mat&amp; postcard) <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Prepare postcard</span></span><br><span class="line">    <span class="keyword">int</span> border = <span class="number">50</span>;</span><br><span class="line">    <span class="keyword">int</span> bottomBorder = border * <span class="number">4</span>;</span><br><span class="line">    cv::Size postcardSize = cv::Size(images_.face.cols + <span class="number">2</span> * border,</span><br><span class="line">                                     images_.face.rows + border + bottomBorder);</span><br><span class="line">    resize(images_.texture, postcard, postcardSize);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Choose places for face and text</span></span><br><span class="line">    cv::<span class="function">Point <span class="title">shift</span><span class="params">(border, border)</span></span>;</span><br><span class="line">    cv::Rect faceRoi = cv::Rect(shift, images_.face.size());</span><br><span class="line">    Mat placeForFace = postcard(faceRoi);</span><br><span class="line">    cv::<span class="function">Point <span class="title">origin</span><span class="params">(border, images_.face.rows + border)</span></span>;</span><br><span class="line">    cv::<span class="function">Rect <span class="title">textRoi</span><span class="params">(origin + shift, images_.text.size()</span>)</span>;</span><br><span class="line">    Mat placeForText = postcard(textRoi);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Add crumpled face</span></span><br><span class="line">    Mat crumpledFace = images_.face.clone();</span><br><span class="line">    crumple(crumpledFace, placeForFace);</span><br><span class="line">    crumpledFace.copyTo(placeForFace);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Get text's alpha channel</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;Mat&gt; textPlanes;</span><br><span class="line">    split(images_.text, textPlanes);</span><br><span class="line">    Mat alpha = textPlanes[<span class="number">3</span>];</span><br><span class="line">    textPlanes.pop_back();</span><br><span class="line">    Mat bgrText;</span><br><span class="line">    merge(textPlanes, bgrText);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Add text with crumpling and alpha</span></span><br><span class="line">    crumple(bgrText, placeForText, alpha);</span><br><span class="line">    alphaBlend(bgrText, placeForText, alpha);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> PostcardPrinter::crumple(Mat&amp; image, <span class="keyword">const</span> Mat&amp; texture,</span><br><span class="line">                              <span class="keyword">const</span> Mat&amp; mask) <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    Mat relief;</span><br><span class="line">    cvtColor(texture, relief, CV_BGR2GRAY);</span><br><span class="line">    relief = <span class="number">255</span> - relief;</span><br><span class="line">    </span><br><span class="line">    Mat hsvImage;</span><br><span class="line">    <span class="built_in">vector</span>&lt;Mat&gt; planes;</span><br><span class="line">    cvtColor(image, hsvImage, CV_BGR2HSV);</span><br><span class="line">    </span><br><span class="line">    split(hsvImage, planes);</span><br><span class="line">    subtract(planes[<span class="number">2</span>], relief, planes[<span class="number">2</span>], mask);</span><br><span class="line">    merge(planes, hsvImage);</span><br><span class="line">    </span><br><span class="line">    cvtColor(hsvImage, image, CV_HSV2BGR);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> PostcardPrinter::alphaBlend(<span class="keyword">const</span> Mat&amp; src, Mat&amp; dst,</span><br><span class="line">                                 <span class="keyword">const</span> Mat&amp; alpha) <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; src.rows; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; src.cols; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            uchar alpha_value = alpha.at&lt;uchar&gt;(i, j);</span><br><span class="line">            <span class="keyword">if</span> (alpha_value != <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">float</span> weight = <span class="keyword">float</span>(alpha_value) / <span class="number">255.f</span>;</span><br><span class="line">                dst.at&lt;Vec3b&gt;(i, j) = weight * src.at&lt;Vec3b&gt;(i, j) +</span><br><span class="line">                (<span class="number">1</span> - weight) * dst.at&lt;Vec3b&gt;(i, j);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在ViewController.mm中的viewDidLoad方法中添加如下代码：</p>
 <figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#import <span class="title">"ViewController.h"</span></span></span><br><span class="line"><span class="preprocessor">#import <span class="title">"PostcardPrinter.hpp"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"><span class="keyword">@synthesize</span> imageView;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    <span class="comment">// Do any additional setup after loading the view, typically from a nib.</span></span><br><span class="line">    PostcardPrinter::Images images;</span><br><span class="line">    <span class="built_in">NSString</span>* filePath = [[<span class="built_in">NSBundle</span> mainBundle]</span><br><span class="line">                          pathForResource:<span class="string">@"lena_std"</span> ofType:<span class="string">@"tif"</span>];</span><br><span class="line">    <span class="built_in">UIImage</span>* image = [<span class="built_in">UIImage</span> imageWithContentsOfFile:filePath];</span><br><span class="line">    <span class="built_in">UIImageToMat</span>(image, images<span class="variable">.face</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//<span class="doctag">FIXME:</span> delete this</span></span><br><span class="line">    resize(images<span class="variable">.face</span>, images<span class="variable">.face</span>, cv::Size(<span class="number">512</span>, <span class="number">512</span>));</span><br><span class="line">    </span><br><span class="line">    filePath = [[<span class="built_in">NSBundle</span> mainBundle]</span><br><span class="line">                pathForResource:<span class="string">@"texture"</span> ofType:<span class="string">@"jpg"</span>];</span><br><span class="line">    image = [<span class="built_in">UIImage</span> imageWithContentsOfFile:filePath];</span><br><span class="line">    <span class="built_in">UIImageToMat</span>(image, images<span class="variable">.texture</span>);</span><br><span class="line">    cvtColor(images<span class="variable">.texture</span>, images<span class="variable">.texture</span>, CV_RGBA2RGB);</span><br><span class="line">    </span><br><span class="line">    filePath = [[<span class="built_in">NSBundle</span> mainBundle]</span><br><span class="line">                pathForResource:<span class="string">@"text"</span> ofType:<span class="string">@"png"</span>];</span><br><span class="line">    image = [<span class="built_in">UIImage</span> imageWithContentsOfFile:filePath];</span><br><span class="line">    <span class="built_in">UIImageToMat</span>(image, images<span class="variable">.text</span>, <span class="literal">true</span>);</span><br><span class="line">    </span><br><span class="line">    PostcardPrinter postcardPrinter(images);</span><br><span class="line">    </span><br><span class="line">    cv::Mat postcard;</span><br><span class="line">    int64 timeStart = cv::getTickCount();</span><br><span class="line">    postcardPrinter<span class="variable">.print</span>(postcard);</span><br><span class="line">    int64 timeEnd = cv::getTickCount();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">float</span> durationMs =</span><br><span class="line">    <span class="number">1000.</span>f * <span class="keyword">float</span>(timeEnd - timeStart) / cv::getTickFrequency();</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"Printing time = %.3fms"</span>, durationMs);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (!postcard<span class="variable">.empty</span>())</span><br><span class="line">        imageView<span class="variable">.image</span> = MatTo<span class="built_in">UIImage</span>(postcard);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)didReceiveMemoryWarning &#123;</span><br><span class="line">    [<span class="keyword">super</span> didReceiveMemoryWarning];</span><br><span class="line">    <span class="comment">// Dispose of any resources that can be recreated.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li>CMD+R 得到效果如下图：<br><img src="http://zrainx.github.io/img/2015-10-18-0.25.21.jpg" alt="2015-10-18-0.25.21.jpg"></li>
</ol>
<h2 id="解释">解释</h2><ol>
<li><code>PostcardPrinter</code> 是一个可以用在桌面程序的C＋＋类，他简单调用了一些OpenCv函数。其中<code>crumpling</code> 方法是用于改变图像的强度值（<code>intensity</code>），而这些操作都需要在HSV色彩空间中完成。首先将texture图像转为灰度图存入relief，然后用image的强度通道值（HSV的value通道）减去relief。</li>
<li><code>UIImageToMat(image, params.text, true);</code>表示转换成带alpha通道的Mat。</li>
<li><code>OpenCV中有getTickCount</code> 和 <code>getTickFrequency</code>函数用于测量时间，评估软件性能。乘上1000后的时间单位是毫秒ms<br><code>1000.f * float(timeEnd - timeStart) / cv::getTickFrequency();</code></li>
<li>时间的差值要控制在0.5秒内。一般不直接使用<code>getTickCount</code>函数，而是使用宏：<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hexcolor">#def</span>ine <span class="function"><span class="title">TS</span><span class="params">(name)</span></span> int64 t_#<span class="id">#name</span> = cv::<span class="function"><span class="title">getTickCount</span><span class="params">()</span></span>     <span class="hexcolor">#def</span>ine <span class="function"><span class="title">TE</span><span class="params">(name)</span></span> printf(<span class="string">"TIMER_"</span> <span class="id">#name</span> <span class="string">": %.2fms\n"</span>, \       <span class="number">1000</span>.*((cv::<span class="function"><span class="title">getTickCount</span><span class="params">()</span></span> - t_##name) / cv::<span class="function"><span class="title">getTickFrequency</span><span class="params">()</span></span>))</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://zrainx.github.io/2015/10/18/《Instant-OpenCV-for-iOS》-学习笔记-5/" data-id="cig83798h0014en8e4rl25n0b" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ios/">ios</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/opencv/">opencv</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-《Instant-OpenCV-for-iOS》-学习笔记-4" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/10/14/《Instant-OpenCV-for-iOS》-学习笔记-4/" class="article-date">
  <time datetime="2015-10-14T14:15:07.000Z" itemprop="datePublished">2015-10-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/opencv/">opencv</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/14/《Instant-OpenCV-for-iOS》-学习笔记-4/">《Instant-OpenCV-for-iOS》-学习笔记-4</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="使用级联分类器检测脸部">使用级联分类器检测脸部</h1><p>本文学习如何使用OpenCV的 <code>cv::CascadeClassifier</code> 类检测脸部。我们加载一个经过训练的分类器XML文件，用这个文件识别脸部，并在识别到的脸部上画个方框。</p>
<h2 id="准备">准备</h2><p>OpenCv自带经过训练的脸部识别分类器XML文件haarcascade_frontalface_alt2.xml。这个文件可以从 <a href="https://github.com/Itseez/opencv/tree/master/data/haarcascades" target="_blank" rel="external">https://github.com/Itseez/opencv/tree/master/data/haarcascades</a>获取到。</p>
<h2 id="步骤">步骤</h2><ol>
<li>使用<a href="http://zrainx.github.io/2015/10/03/%E3%80%8AInstant-OpenCV-for-iOS%E3%80%8B-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-3/">《Instant-OpenCV-for-iOS》-学习笔记-3</a>的工程。</li>
<li>将haarcascade_frontalface_alt2.xml文件拖到xcode的项目侧边栏的<code>Supporting Files</code>目录下。</li>
<li><p>修改 <code>ViewController.h</code>文件。加入<code>CascadeClassifier</code>类型变量声明<code>faceDetector</code>。这就是对象检测器。</p>
 <figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#import <span class="title">&lt;UIKit/UIKit.h&gt;</span></span></span><br><span class="line"><span class="preprocessor">#import <span class="title">&lt;opencv2/opencv.hpp&gt;</span></span></span><br><span class="line"><span class="preprocessor">#import <span class="title">&lt;opencv2/imgcodecs/ios.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">using namespace cv;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> : <span class="title">UIViewController</span></span>&#123;</span><br><span class="line">    CascadeClassifier faceDetector;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">weak</span>, <span class="keyword">nonatomic</span>) <span class="keyword">IBOutlet</span> <span class="built_in">UIImageView</span> *imageView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>修改 ViewController.mm中的viewDidLoad 方法。</p>
<pre><code><span class="comment"><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [super viewDidLoad];</span><br><span class="line">    <span class="comment">// Do any additional setup after loading the view, typically from a nib.</span></span><br><span class="line">    <span class="comment">//加载haarcascade_frontalface_alt2.xml文件</span></span><br><span class="line">    NSString * cascadePath =[[NSBundle mainBundle] pathForResource:@<span class="string">"haarcascade_frontalface_alt2"</span> ofType:@<span class="string">"xml"</span>];</span><br><span class="line">    faceDetector.load([cascadePath UTF8String]);</span><br><span class="line">    <span class="comment">//加载图片文件</span></span><br><span class="line">    NSString * path = [[NSBundle mainBundle] pathForResource:@<span class="string">"lena_std"</span> ofType:@<span class="string">"tif"</span>];</span><br><span class="line">    UIImage * image = [UIImage imageWithContentsOfFile:path];</span><br><span class="line">    <span class="comment">//转换image中的UIImage * 格式图像到Mat格式，结果存到faceImage中</span></span><br><span class="line">    Mat faceImage;</span><br><span class="line">    UIImageToMat(image, faceImage);</span><br><span class="line">    <span class="comment">//转换faceImage中的图像到单通道灰度图像，结果存到gray中</span></span><br><span class="line">    Mat gray;</span><br><span class="line">    cvtColor(faceImage, gray, COLOR_BGR2GRAY);</span><br><span class="line">    <span class="comment">//检查脸部</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;cv::Rect&gt; faces;</span><br><span class="line">    faceDetector.detectMultiScale(gray, faces, <span class="number">1.1</span>, <span class="number">2</span>, <span class="number">0</span>|CV_HAAR_SCALE_IMAGE, cv::Size(<span class="number">30</span>,<span class="number">30</span>));</span><br><span class="line">    <span class="comment">//给所有检查到的脸部画框</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">unsigned</span> <span class="keyword">int</span> i=<span class="number">0</span>;i&lt;faces.size();i++)&#123;</span><br><span class="line">        <span class="keyword">const</span> cv::Rect&amp; face = faces[i];</span><br><span class="line">        <span class="comment">//得到左上角 和 右下角 坐标</span></span><br><span class="line">        cv::<span class="function">Point <span class="title">tl</span><span class="params">(face.x,face.y)</span></span>;</span><br><span class="line">        cv::Point br=tl+cv::Point(face.width,face.height);</span><br><span class="line">        <span class="comment">//画框</span></span><br><span class="line">        Scalar magenta = Scalar(<span class="number">0</span>,<span class="number">128</span>,<span class="number">255</span>);</span><br><span class="line">        rectangle(faceImage, tl, br, magenta,<span class="number">4</span>,<span class="number">8</span>,<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//显示结果</span></span><br><span class="line">    imageView.image = MatToUIImage(faceImage);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></span>
</code></pre></li>
<li><p>CMD＋R 编译运行，检查结果<br> <img src="http://zrainx.github.io/img/2015-10-14-10.50.33.jpg" alt="2015-10-14-10.50.33.jpg"></p>
</li>
</ol>
<h2 id="解释">解释</h2><ol>
<li>我们使用了使用<a href="http://zrainx.github.io/2015/10/03/%E3%80%8AInstant-OpenCV-for-iOS%E3%80%8B-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-3/">《Instant-OpenCV-for-iOS》-学习笔记-3</a>的工程。当然也可以直接建立一个工程。然后加入OpenCV framework文件，在storyboard里加上UIImageView组件。</li>
<li>本例中，我们使用<a href="http://www.cnblogs.com/ello/archive/2012/04/28/2475419.html" target="_blank" rel="external">基于Haar分类器方法的人脸检测器</a>类<code>cv::CascadeClassifier</code>。Haar分类器由Paul Viola提出，后由Rainer Lienhart发展。</li>
<li><code>haarcascade_frontalface_alt2.xml</code>文件包含了用于检测脸部正面特征的分类器参数。</li>
<li>加载参赛需要将<code>NSString</code>对象转化为<code>std::string</code>对象。使用<code>UTF8String</code>方法将<code>NSString</code>对象转化为<code>std::string</code>对象。</li>
<li>使用<code>CascadeClassifier</code>类的<code>detectMultiScale</code>方法在图像中找到脸部区域。</li>
<li>使用<code>cv::rectangle</code>函数在检测结果区域上加方框。</li>
<li>可以使用不同的图片或者不同的分类器XML文件进行试验。比如使用<a href="https://github.com/Itseez/opencv/blob/master/data/haarcascades/haarcascade_eye.xml" target="_blank" rel="external">haarcascade_eye.xml</a>可以得到这样的效果<br><img src="http://zrainx.github.io/img/2015-10-14-11.57.28.jpg" alt="2015-10-14-11.57.28.jpg"></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://zrainx.github.io/2015/10/14/《Instant-OpenCV-for-iOS》-学习笔记-4/" data-id="cig83798m0018en8exj1ens54" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ios/">ios</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/opencv/">opencv</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-《Instant-OpenCV-for-iOS》-学习笔记-3" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/10/03/《Instant-OpenCV-for-iOS》-学习笔记-3/" class="article-date">
  <time datetime="2015-10-03T14:59:17.000Z" itemprop="datePublished">2015-10-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/opencv/">opencv</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/03/《Instant-OpenCV-for-iOS》-学习笔记-3/">《Instant OpenCV for iOS》 学习笔记(3)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="连接OpenCV到iOS项目中">连接OpenCV到iOS项目中</h2><p>本文学习在项目中添加OpenCV库的设置方法和调用OpenCV库函数的方法。<br>学习UIImage和cv::Mat之间相互转换。</p>
<h3 id="准备">准备</h3><p>下载ios版本的 opencv库文件 <a href="http://opencv.org" target="_blank" rel="external">opencv2.framework</a>本例中使用3.0。解压。</p>
<h3 id="步骤">步骤</h3><ul>
<li>继续使用学习笔记（2）的工程。将解压所得的framework拖入项目侧边栏中<br><img src="http://zrainx.github.io/img/2015-10-09-10.40.58.jpg" alt="2015-10-09-10.40.58.jpg"></li>
<li><p>在ViewController.h中加入opencv头文件 </p>
  <figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#import <span class="title">&lt;UIKit/UIKit.h&gt;</span></span></span><br><span class="line"><span class="preprocessor">#import <span class="title">&lt;opencv2/opencv.hpp&gt;</span></span></span><br><span class="line"><span class="preprocessor">#import <span class="title">&lt;opencv2/imgcodecs/ios.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">using namespace cv;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> : <span class="title">UIViewController</span></span>&#123;</span><br><span class="line">   <span class="built_in">UIImage</span>* image;</span><br><span class="line">   Mat cvImage;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">weak</span>, <span class="keyword">nonatomic</span>) <span class="keyword">IBOutlet</span> <span class="built_in">UIImageView</span> *imageView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li>修改<em>ViewController.m</em>文件名为<em>ViewController.mm</em> ，<em>\</em>.mm*表示object c++ 文件。因为opencv是用c++写的。</li>
<li><p>编辑ViewController.mm中的viewDidLoad()方法。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">	- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [super viewDidLoad];</span><br><span class="line">    <span class="comment">// Do any additional setup after loading the view, typically from a nib.</span></span><br><span class="line">    image = [UIImage imageNamed:@<span class="string">"lena_std.tif"</span>];</span><br><span class="line">    <span class="keyword">if</span> (image!=nil) &#123;</span><br><span class="line">        <span class="comment">//转换image中的UIImage * 格式图像到Mat格式，结果存到cvImage中</span></span><br><span class="line">        UIImageToMat(image, cvImage);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (!cvImage.empty()) &#123;</span><br><span class="line">        Mat cvGrayImage;</span><br><span class="line">        <span class="comment">//转换cvImage中的图像到单通道灰度图像，结果存到cvGrayImage中</span></span><br><span class="line">        cvtColor(cvImage, cvGrayImage, COLOR_BGR2GRAY);</span><br><span class="line">        <span class="comment">//高斯模糊去除cvGrayImage中微小的边缘，结果存到cvGrayImage中</span></span><br><span class="line">        GaussianBlur(cvGrayImage, cvGrayImage, cv::Size(<span class="number">5</span>,<span class="number">5</span>), <span class="number">1.2</span>, <span class="number">1.2</span>);</span><br><span class="line">        <span class="comment">//Canny算法得到cvGrayImage中图像的边缘，结果存到cvGrayImage中</span></span><br><span class="line">        Canny(cvGrayImage, cvGrayImage, <span class="number">0</span>, <span class="number">50</span>);</span><br><span class="line">        <span class="comment">//设置cvImage中图像的所有像素为灰度色</span></span><br><span class="line">        cvImage.setTo(Scalar::all(<span class="number">255</span>));</span><br><span class="line">        <span class="comment">//设置cvImage中图像的边缘部分像素为蓝色</span></span><br><span class="line">        cvImage.setTo(Scalar(<span class="number">0</span>,<span class="number">128</span>,<span class="number">255</span>,<span class="number">255</span>),cvGrayImage);</span><br><span class="line">        <span class="comment">//转换cvImage中的Mat格式图像到UIImage* 格式并且在imageView组件显示</span></span><br><span class="line">        imageView.image=MatToUIImage(cvImage);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>运行程序查看效果。<br><img src="http://zrainx.github.io/img/2015-10-10-8.58.07.jpg" alt="2015-10-10-8.58.07.jpg"></p>
</li>
</ul>
<h3 id="解释">解释</h3><ol>
<li>framework 简化了处理依赖关系的过程。framework封装了头文件和bin文件，这些文件的依赖关系由xcode处理，我们无须手动处理include 路径。我们也不需要手动处理不同架构（比如armv7，armv7s和x86），xcode会根据不同的编译配置自动寻找合适的库。</li>
<li>通常ios应用程序用Objective-C语言，头文件是 *.h ， 源代码文件 *.m。Objective-C语言是C语言的超集，所以可以在Objective-C文件中加入C语言。同理，Objective-C++文件中可以加入C++。OpenCv是用C++写的，所以需要使用Objective-C++。Objective-C++文件的后缀名是 *.mm</li>
<li>加入<code>using namespace cv;</code>声明使用opencv的命名域空间。这样可以在后续调用opencv方法时显得简化一些。例如cv::Mat 只要写成 Mat就好了。</li>
<li>在viewDidLoad()中，我们调用<code>UImageToMat</code>方法转换UIImage对象到<code>cv::Mat</code>对象。但请不要频繁调用这个方法，这样做会消耗内存影响程序性能。<code>UImageToMat</code>和<code>MatToUIImage</code>方法在头文件<opencv2 imgcodecs="" ios.h="">中定义。</opencv2></li>
<li>在转换完成图像后，使用opencv做了一些简单的图像处理。首先是转换cvImage中的图像到单通道灰度图像。然后使用高斯模糊去除cvGrayImage中微小的边缘；接着使用Canny算法检测cvGrayImage中图像的边缘。为了显示效果，创建了一幅白色背景，边缘像素设置为蓝色的图像。最后调用<code>MatToUIImage</code>将<code>cv::Mat</code>对象转回UIImage并在屏幕上显示。</li>
<li>在viewDidLoad()中，使用：</li>
</ol>
<p><code>image = [UIImage imageNamed:@&quot;lena_std.tif&quot;];</code><br>方法加载图片有内存溢出的风险。<br>可以使用如下两句替代：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NSString * path = [[NSBundle mainBundle] <span class="string">pathForResource:</span>@<span class="string">"lena_std"</span> <span class="string">ofType:</span>@<span class="string">"tif"</span>];</span><br><span class="line">image = [UIImage <span class="string">imageWithContentsOfFile:</span>path];</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://zrainx.github.io/2015/10/03/《Instant-OpenCV-for-iOS》-学习笔记-3/" data-id="cig83798o001cen8e8nig73ph" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ios/">ios</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/opencv/">opencv</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-《Instant-OpenCV-for-iOS》-学习笔记-2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/10/03/《Instant-OpenCV-for-iOS》-学习笔记-2/" class="article-date">
  <time datetime="2015-10-03T01:41:00.000Z" itemprop="datePublished">2015-10-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/opencv/">opencv</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/03/《Instant-OpenCV-for-iOS》-学习笔记-2/">《Instant OpenCV for iOS》 学习笔记(2)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="从工程目录（supporting）显示图像">从工程目录（supporting）显示图像</h2><p>ios应用程序在supporting目录存放图像文件。本文我们学习如何添加图像文件到资源文件夹，如何加载图像文件到UIImage对象并显示。我们将会用到UIImageView组件。</p>
<h3 id="准备">准备</h3><ul>
<li>准备一张照片文件 <a href="http://lenna.org" target="_blank" rel="external">http://lenna.org</a> 这张叫做lenna的照片在各种图像处理教科书中被使用到，简直可以说是图像处理里的hello word御用照片了。从这个网站可以了解到这张照片的来历:)。</li>
</ul>
<h3 id="步骤">步骤</h3><ul>
<li><p>新建一个工程具体步骤详见<a href="http://zrainx.github.io/2015/10/03/%E3%80%8AInstant%20OpenCV%20for%20iOS%E3%80%8B%20%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0\(1\">《Instant OpenCV for iOS》 学习笔记(1)</a>)或者直接在原来的工程上继续开发（我选择后者）。</p>
</li>
<li><p>拖入下载的图片文件到工程supporting Files 目录下<img src="http://zrainx.github.io/img/2015-10-03-01.jpg" alt="2015-10-03-01.jpg"></p>
</li>
<li>加入ImageView 到我们的View视图中: 打开StoryBoard Editor -&gt; 从Object Library 中选择Image View 组件拖到Story Board的View中 <img src="http://zrainx.github.io/img/2015-10-03-02.jpg" alt="2015-10-03-02.jpg"></li>
<li>在ViewController.h中添加变量image:</li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#import <span class="title">&lt;UIKit/UIKit.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> : <span class="title">UIViewController</span></span>&#123;</span><br><span class="line">    <span class="built_in">UIImage</span>* image;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<ul>
<li>然后打开storyBoard Editor 并调出Assistant Editor 并在Assistant Editor 中打开ViewController.h 。此时Xcode的界面显示左右两部分区域。左边是UIImageView的StoryBoard，而右面是显示ViewController.h的Assistant Editor。</li>
<li>从左边StoryBoard按住Ctrl 鼠标按住选择UIImageView 拖到右边的ViewController.h代码界面中。<img src="http://zrainx.github.io/img/2015-10-03-03.jpg" alt="2015-10-03-03.jpg"></li>
<li>在弹出的对话框中输入变量名称“imageView”。<img src="http://zrainx.github.io/img/2015-10-03-04.jpg" alt="2015-10-03-04.jpg"></li>
<li>自动生成代码后，ViewController.h的代码如下：</li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#import <span class="title">&lt;UIKit/UIKit.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> : <span class="title">UIViewController</span></span>&#123;</span><br><span class="line">    <span class="built_in">UIImage</span>* image;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">weak</span>, <span class="keyword">nonatomic</span>) <span class="keyword">IBOutlet</span> <span class="built_in">UIImageView</span> *imageView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<ul>
<li>在ViewController.m中添加代码：</li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#import <span class="title">"ViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"><span class="keyword">@synthesize</span> imageView;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    <span class="comment">// Do any additional setup after loading the view, typically from a nib.</span></span><br><span class="line">    image = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"lena_std.tif"</span>];</span><br><span class="line">    <span class="keyword">if</span> (image!=<span class="literal">nil</span>) &#123;</span><br><span class="line">        imageView<span class="variable">.image</span>=image;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)didReceiveMemoryWarning &#123;</span><br><span class="line">    [<span class="keyword">super</span> didReceiveMemoryWarning];</span><br><span class="line">    <span class="comment">// Dispose of any resources that can be recreated.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<ul>
<li>最后 command ＋ r 编译运行</li>
<li>在仿真器上的运行结果<br><img src="http://zrainx.github.io/img/2015-10-03-05.jpg" alt="2015-10-03-05.jpg"></li>
</ul>
<h2 id="注释">注释</h2><ul>
<li>iOS 的GUI开发使用MVC设计模式。这种模式把应用程序分成界面部分（View）、模型（算法）部分（Model）、控制器（用户交互）部分（Controller）。一些简单的程序只需要View 和 Controller 就可以了，因为逻辑比较简单，无需专门分个Model部分出来。</li>
<li>iOS程序的一个View就对应一个storyboard单元。这些单元最终存在*.storyboard 文件中（在本例中，就是Main.storyboard文件）。在Xcode中我们使用集成的Interface Builder工具来编辑 Main.storyboard。</li>
<li>每个view通常对应一个Controller。一般新建一个project时xcode默认创建一个ViewController类（ViewController.h和ViewController.m）。</li>
<li>本例中从storyboard中连线UIImageView到ViewController.h中后xcode自动添加了IBOutlet property用于声明一个接口。IBOutlet 是一个特殊的宏，用于向xcode表明这个声明的property（本例中是UIImageView *imageView）是链接到View单元上。</li>
<li>默认情况下，在controller的接口中添加变量都是自私有的，因此需要对变量添加set和get方法才可以在这个类之外的地方访问这个变量。@property 和 @synthesize 关键字告诉Objective-C编译器自动生成set和get方法。</li>
<li>(void)viewDidLoad方法在ViewController加载时被调用。因此在这里添加显示图像的代码。</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://zrainx.github.io/2015/10/03/《Instant-OpenCV-for-iOS》-学习笔记-2/" data-id="cig83798q001gen8ebn0u6dsq" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ios/">ios</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/opencv/">opencv</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-《Instant OpenCV for iOS》 学习笔记(1)" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/10/03/《Instant OpenCV for iOS》 学习笔记(1)/" class="article-date">
  <time datetime="2015-10-03T01:12:58.000Z" itemprop="datePublished">2015-10-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/opencv/">opencv</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/03/《Instant OpenCV for iOS》 学习笔记(1)/">《Instant OpenCV for iOS》 学习笔记（1）</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="从iOS开始">从iOS开始</h2><p>本文简要介绍设置iOS开发环境以及运行一个“Hello World”程序。</p>
<h3 id="准备">准备</h3><ol>
<li>一台Mac OS X 台式机或笔记本</li>
<li>iOS 设备（比如iphone）</li>
<li>Xcode</li>
<li>这本书的例子程序源码，可以到<a href="http://www.packtpub.com/support" target="_blank" rel="external">http://www.packtpub.com/support</a>注册然后会从邮箱收到源代码的下载链接。</li>
</ol>
<h3 id="步骤">步骤</h3><ol>
<li>在xcode创建新工程  <ul>
<li>菜单栏：File -&gt; new -&gt; Project </li>
<li>选择 Single View Application </li>
<li>填写 Product Name (比如填写C01) </li>
<li>选择 Language 为 Objective-C</li>
<li>不要勾选 Use Core Data, Include Unit Tests,Include UI Tests</li>
<li>按 Next 选择保存路径 然后finish 工程就建好了。</li>
</ul>
</li>
<li>编译ViewController.m</li>
</ol>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#import <span class="title">"ViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    <span class="comment">// Do any additional setup after loading the view, typically from a nib.</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"Hello World!"</span>);</span><br><span class="line">    </span><br><span class="line">    [[[<span class="built_in">UIAlertView</span> alloc]</span><br><span class="line">      initWithTitle:<span class="string">@"喂，这里!"</span></span><br><span class="line">      message:<span class="string">@"欢迎来到Opencv开发社区!"</span></span><br><span class="line">      delegate:<span class="literal">nil</span> cancelButtonTitle:<span class="string">@"继续"</span></span><br><span class="line">      otherButtonTitles:<span class="literal">nil</span>, <span class="literal">nil</span>]</span><br><span class="line">      show];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)didReceiveMemoryWarning &#123;</span><br><span class="line">    [<span class="keyword">super</span> didReceiveMemoryWarning];</span><br><span class="line">    <span class="comment">// Dispose of any resources that can be recreated.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<ol>
<li>编译运行<br>在emulator上看到结果<br><img src="http://zrainx.github.io/img/1.png" alt="1.png"></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://zrainx.github.io/2015/10/03/《Instant OpenCV for iOS》 学习笔记(1)/" data-id="cig83798s001ken8ep751f9w7" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ios/">ios</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/opencv/">opencv</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-在macos上搭建pyqt环境" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/09/20/在macos上搭建pyqt环境/" class="article-date">
  <time datetime="2015-09-20T15:48:58.000Z" itemprop="datePublished">2015-09-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/python/">python</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/09/20/在macos上搭建pyqt环境/">在macos上搭建pyqt环境</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>今天在mpb上搭建了pyqt ＋ qt ＋ pycharm / eclipse＋pydev<br>用来学习pyqt。<br>pyqt 和 qt 都是用 homebrew 安装的，so easy。<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">brew </span>install python</span><br><span class="line"><span class="keyword">brew </span>install pyqt</span><br><span class="line"><span class="keyword">brew </span>install qt</span><br></pre></td></tr></table></figure></p>
<p>pycharm的安装就是上<a href="https://www.jetbrains.com/pycharm/download/" target="_blank" rel="external">pycharm官网</a>下载安装包后安装一下。</p>
<p>eclipse＋pydev 是安照<br><a href="http://www.cnblogs.com/Bonker/p/3584707.html" target="_blank" rel="external">python+Eclipse+pydev环境搭建</a>操作的，也没有什么问题。</p>
<p>只是在上述两个IDE的配置过程中。python interpreter配置时需要使用<strong>/usr/local/bin/python</strong>，不要用 系统自带的<strong>/usr/bin/python</strong>。否则一直找不到pyqt库。<br>因为homebrew把python装到<strong>/usr/local/</strong>目录下了，pyqt也装到<strong>/usr/local/lib/python2.7/site-packages/</strong> 下了。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://zrainx.github.io/2015/09/20/在macos上搭建pyqt环境/" data-id="cig83797z000een8em10w9qb1" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-芯芯视频" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/09/20/芯芯视频/" class="article-date">
  <time datetime="2015-09-20T10:17:53.000Z" itemprop="datePublished">2015-09-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/照片/">照片</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/09/20/芯芯视频/">芯芯</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>视频</strong><br><a href="http://pan.baidu.com/play/video#video/path=%2F%E6%9D%A5%E8%87%AA%EF%BC%9APE-CL00%2FDCIM%2FCamera%2FVID_20150920_134441.mp4&amp;t=-1" target="_blank" rel="external">9月20日1</a></p>
<p><a href="http://pan.baidu.com/s/1dDfj5aL" target="_blank" rel="external">9月20日2</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://zrainx.github.io/2015/09/20/芯芯视频/" data-id="cig83797q0001en8ef75srypn" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/女儿/">女儿</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-使用Xcode7免费真机调试iOS应用程序" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/09/19/使用Xcode7免费真机调试iOS应用程序/" class="article-date">
  <time datetime="2015-09-19T14:58:19.000Z" itemprop="datePublished">2015-09-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ios/">ios</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/09/19/使用Xcode7免费真机调试iOS应用程序/">使用Xcode7免费真机调试iOS应用程序</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>今天在给我的mbp升级xcode 在说明中看到这样一段文字：</p>
<p><em>Now everyone can <strong>run and test their own app on a device—for free</strong>. You can run and debug your own creations on a Mac, iPhone, iPad, iPod touch, or Apple Watch without any fees, and no programs to join. All you need to do is enter your free Apple ID into Xcode. You can even use the same Apple ID you already use for the App Store or iTunes. Once you’ve perfected your app the Apple Developer Program can help you get it on the App Store.</em></p>
<p>这是真的么？百度了一下，是真的。太好了，这下可以剩下99美刀了。<br>马上试了一下，步骤如下:</p>
<p>1.运行Xcode后，点击菜单中的Preferences…进入Accounts标签<br>2.左边栏选自己的Apple ID， 右边可以看到 </p>
<table>
<thead>
<tr>
<th>Name</th>
<th>iOS</th>
<th>MAC</th>
</tr>
</thead>
<tbody>
<tr>
<td>xxx</td>
<td>free</td>
<td>free</td>
</tr>
</tbody>
</table>
<p>3.按下右边栏中右下角的<em>View Details…</em>按钮打开Details对话框</p>
<p>4.在Details对话框中可以看到:</p>
<table>
<thead>
<tr>
<th>Signing Identities</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td> iOS Development</td>
<td>Create</td>
</tr>
<tr>
<td>iOS Distribution</td>
<td><del>Create</del></td>
</tr>
<tr>
<td> Mac Development</td>
<td>Create</td>
</tr>
<tr>
<td> Mac App Distribution</td>
<td><del>Create</del></td>
</tr>
<tr>
<td> Mac Installer Distribution</td>
<td><del>Create</del></td>
</tr>
<tr>
<td> Developer ID Application</td>
<td><del>Create</del></td>
</tr>
<tr>
<td> Developer ID Installer</td>
<td><del>Create</del></td>
</tr>
</tbody>
</table>
<p> <em><del>Create</del></em>表示灰色，不能选择。</p>
<p>5.点击 iOS Development和Mac Development栏对应的Create钮。然后这两个<br> Create钮就消失了。接着点击右下角的<em>Done</em>按钮。</p>
<p>6.随便打开一个iOS工程。usb连上老婆的iphone6 。</p>
<p>7.Xcode 上的iOS Devce下拉菜单中多出了iphone6，太棒了。</p>
<p>8.选择 iphone6 然后猛击运行。由于第一次调试需要添加Provisioning Profile，xcode弹出一个Issue消息，点击的Issue旁点Fix，一切就都由Xcode搞定了，最终会生成对应App ID的描述文件，这时编译链接项目，运行调试就可以了。</p>
<p>9.发现iphone6中竟然多出了那个APP。断开usb线也可以在iphone上运行，就和其他APP一样。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://zrainx.github.io/2015/09/19/使用Xcode7免费真机调试iOS应用程序/" data-id="cig83798d000yen8ei0v0nb1w" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ios/">ios</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/xcode/">xcode</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-在XCode中使用OpenCV" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/09/14/在XCode中使用OpenCV/" class="article-date">
  <time datetime="2015-09-14T11:38:35.000Z" itemprop="datePublished">2015-09-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/opencv/">opencv</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/09/14/在XCode中使用OpenCV/">在XCode中使用OpenCV</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ol>
<li>创建一个空的command line工程。</li>
<li>写opencv代码</li>
<li>添加lib文件：右键点击工程名，选择“Add files to..”，在文件选择对话框弹出来时输入“/”，在弹出的路径框中输入：/usr/local/lib，全选该文件夹下的全部dylib文件，添加至工程。</li>
<li>添加lib文件查找支持: 点击工程名文件，进入“Build Settings”选项卡，在“Library Search Paths”栏中输入“/usr/local/lib”</li>
<li>添加头文件：点击工程名文件，进入“Build Settings”选项卡，在“Header Search Paths”栏中输入：“/usr/local/include   /usr/local/include/opencv”</li>
</ol>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Search Paths </span><br><span class="line"></span><br><span class="line">Header Search Paths</span><br><span class="line"><span class="regexp">/usr/</span>local/include</span><br><span class="line"></span><br><span class="line">Library Search Paths  </span><br><span class="line"> <span class="regexp">/usr/</span>local/lib</span><br><span class="line"> <span class="regexp">/usr/</span>local<span class="regexp">/Cellar/</span>opencv<span class="regexp">/2.4.11_1/</span>lib</span><br><span class="line"></span><br><span class="line"> opencv2\core\</span><br><span class="line"></span><br><span class="line">Build Phases </span><br><span class="line">  Link Binary With Libraries</span><br><span class="line">    <span class="regexp">/usr/</span>local<span class="regexp">/Cellar/</span>opencv<span class="regexp">/2.4.11_1/</span>lib</span><br></pre></td></tr></table></figure>
<ol>
<li>编译运行整个工程，运行成功~~</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://zrainx.github.io/2015/09/14/在XCode中使用OpenCV/" data-id="cig837984000ien8e78d735tz" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/opencv/">opencv</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/xcode/">xcode</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-正手弧圈-手腕外展" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/09/13/正手弧圈-手腕外展/" class="article-date">
  <time datetime="2015-09-13T14:04:27.000Z" itemprop="datePublished">2015-09-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/乒乓球/">乒乓球</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/09/13/正手弧圈-手腕外展/">正手弧圈-手腕外展</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>  练习拉弧圈球时一直没想明白所谓的“手腕发力”到底是怎么做。于是在乒乓网上搜了一下。发现有这样一些文字摘录如下：</p>
<p><strong>基本概念</strong>：将右臂伸直并向右水平地抬起，五指自然伸直、掌心朝下：手腕向地面方向的运动为屈，向掌背方向的运动为伸(或挺)；手腕向姆指方向运动为收，向小指方向运动为展。</p>
<p>引拍尾期动作的手腕外展并不只是手掌向小指方向的运动，而是先以手掌的伸(挺)到位后、再辅以手掌向小指方向的运动(展)所合成的。手腕外展正确地动作过程应该是拉手到位后适度地伸腕、这时的拍面是接近垂直于地面的稍前倾状态，然后由手指发力控拍使手腕向小指方向运动，使拍面接近于与地面水平，这个手腕的复合运动才是手腕外展的基本内容。手腕外展后小臂与手腕都有紧张的受力感觉就对了，只有手腕受力是没有伸、只有展的错误动作。因此，手腕的外展应该是手腕的伸配合展的”伸、展”动作，手掌只向小指方向的运动只能叫展而不是真正意义上的弧圈技术中的手腕外展。<br><strong>手腕由外展转内收是弧圈发力过程中的一部分重要构成</strong>。在引拍过程的尾期时使手腕外展的动作过程是对的，这一点应肯定，所以也有人将手腕外展的过程称为二次引拍。</p>
<ul>
<li>本文出自乒乓网，原文地址：<a href="http://www.pingpangwang.com/thread-10567-1-1.html" target="_blank" rel="external">http://www.pingpangwang.com/thread-10567-1-1.html</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://zrainx.github.io/2015/09/13/正手弧圈-手腕外展/" data-id="cig83797w0009en8euuqivrpz" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/乒乓球/">乒乓球</a></li></ul>

    </footer>
  </div>
  
</article>


  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/ios/">ios</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/opencv/">opencv</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/乒乓球/">乒乓球</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/日志/">日志</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/照片/">照片</a><span class="category-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/">github</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hxo/">hxo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ios/">ios</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/opencv/">opencv</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/xcode/">xcode</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/乒乓球/">乒乓球</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/女儿/">女儿</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/搭建blog/">搭建blog</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/github/" style="font-size: 10px;">github</a> <a href="/tags/hxo/" style="font-size: 10px;">hxo</a> <a href="/tags/ios/" style="font-size: 20px;">ios</a> <a href="/tags/opencv/" style="font-size: 20px;">opencv</a> <a href="/tags/xcode/" style="font-size: 15px;">xcode</a> <a href="/tags/乒乓球/" style="font-size: 10px;">乒乓球</a> <a href="/tags/女儿/" style="font-size: 15px;">女儿</a> <a href="/tags/搭建blog/" style="font-size: 10px;">搭建blog</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">十月 2015</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">九月 2015</a><span class="archive-list-count">8</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2015/10/18/《Instant-OpenCV-for-iOS》-学习笔记-5/">《Instant-OpenCV-for-iOS》-学习笔记-5</a>
          </li>
        
          <li>
            <a href="/2015/10/14/《Instant-OpenCV-for-iOS》-学习笔记-4/">《Instant-OpenCV-for-iOS》-学习笔记-4</a>
          </li>
        
          <li>
            <a href="/2015/10/03/《Instant-OpenCV-for-iOS》-学习笔记-3/">《Instant OpenCV for iOS》 学习笔记(3)</a>
          </li>
        
          <li>
            <a href="/2015/10/03/《Instant-OpenCV-for-iOS》-学习笔记-2/">《Instant OpenCV for iOS》 学习笔记(2)</a>
          </li>
        
          <li>
            <a href="/2015/10/03/《Instant OpenCV for iOS》 学习笔记(1)/">《Instant OpenCV for iOS》 学习笔记（1）</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 zrainx<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>